import { Meta } from '@storybook/addon-docs/blocks';


<Meta title="Development/Development" />


# Development center
---- 

`friday` 基于`lerna 、yarn的workspace` 来管理依赖的版本。 项目中所有模块将会有个公共的`node_module`，并且`packages`中的模块将会提供
软连接给`example`项目

### install

`friday`在根目录安装之后，所有的模块将会全部安装依赖。

```css dark
yarn start

```

## 添加一个全局依赖库
```css dark
yarn add react -W 
```

## 添加一个局部依赖库
```css dark
yarn workspace awesome-package add react --dev
```

### friday example
friday example 有三个项目，yarn start 将会同时启动三个demo，是一个微服务示例。

```css dark 
// 全部启动
yarn example
//启动一个
yarn example:master

open: http://localhost:3000

```

### friday docs 
```css dark
开发环境 storybook

yarn dev:storybook 

构建 storybook

cd docs 
yarn build-storybook

or 

yarn workspace docs build-storybook

```

### friday component package 
// 该包和其他包编译方式不同
```css dark

// dev 环境

yarn dev:components

// 构建
yarn build:components

```

### friday packages dev 
```css dark
// yarn dev 将实时watch references中依赖的模块，注意：并没有包含friday-components
yarn dev 

yarn dev 可以被以下模块开发环境使用
"references": [
	{ 
		"path": "../friday-helpers"
	},
	{
		"path": "../friday-immer"
	},
	{
		"path": "../friday-hooks"
	},
	{
		"path": "../friday-async"
	},
	{
		"path": "../friday-router"
	},
	{
		"path": "../friday-micro"
	}
]

yarn dev:hooks

packages/hooks包开发环境

```

### friday test
```css dark
yarn test 
or 
yarn test:watch

```

##  测试friday template

```css dark
cd example 
npx create-react-app --scripts-version 4.0.0-next.64 my-app3 --template file:../packages/friday-template

```

## 发布 

发布，需要上游地址指向私有npm，并且登陆。

```css dark

// yarn update 将同时构建全部的包，包括friday-components
yarn update

```

